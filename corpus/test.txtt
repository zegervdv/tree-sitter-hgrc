====
Basic .hgrc
====

# This is a comment
[ui]
user = Jane Doe <jane.doe@example.com>

---

(source
  (comment)
  (section
	(name)
	(option
	  (option_name)
	  (string))))


====
Empty section
====

# This is a comment
[ui]

---

(source
  (comment)
  (section
    (name)))

====
Empty options
====

# This is a comment
[extensions]
evolve =
topic =

---

(source
  (comment)
  (section
    (name)
    (option
      (option_name))
    (option
      (option_name))))


====
Boolean options
====

# This is a comment
[experimental]
topic-mode = enforce
evolution = all

[phases]
publish = false
publish = no
publish = 0
publish = off
publish = true
publish = yes
publish = 1
publish = on
publish = True

---

(source
  (comment)
  (section
    (name)
    (option
      (option_name)
      (string))
    (option
      (option_name)
      (string)))
  (section
    (name)
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))
    (option
      (option_name)
      (bool))))

====
Path options
====

# This is a comment
[extensions]
absorb = /path/to/some/file.py

---

(source
  (comment)
  (section
    (name)
    (option
      (option_name)
      (path))))

====
Multi-line values
====

# This is a comment
[committemplate]
changeset = {desc}\n\n
  HG: {extramsg}
  HG: user: {author}
  HG: ----------- >8 ------------
  HG: Do not touch the line above

---

(source
  (comment)
  (section
    (name)
    (option
      (option_name)
      (string))))


====
Includes
====

# This is a comment
%include ~/.hgrc.d/$HOST.rc

[extensions]
topic =
absorb = /path/to/ext.py

%include /path/to/included.hgrc

---

(source
  (comment)
  (include
    (path))
  (section
    (name)
    (option
      (option_name))
    (option
      (option_name)
      (path)))
    (include
      (path)))


====
indents
====

[spam]
eggs=ham
bacon=
green=
  eggs

---

(source
  (section
    (name)
    (option
      (option_name)
      (string))
    (option
      (option_name))
    (option
      (option_name)
      (string))))

====
lists
====

# This is a comment
[example]
allow_read = "John Doe, PhD", brian, betty

---

(source
  (comment)
  (section
    (name)
    (option
      (option_name)
      (string))))

====
comments
====

# This is a comment
[extensions]
# Also a comment
topic =
# This is also a comment
absorb = /path/to/ext.py

---

(source
  (comment)
  (section
    (name)
    (comment)
    (option
      (option_name))
    (comment)
    (option
      (option_name)
      (path))))

====
more comments
====

# This is a comment
[extensions] # This is also a comment
topic = # this is not a comment
# This is also a comment
absorb = /path/to/ext.py # not a comment
less =
  /path/to/ext2.py
# One more


---

(source
  (comment)
  (section
    (name)
    (comment)
    (option
      (option_name)
      (string))
    (comment)
    (option
      (option_name)
      (path))
    (option
      (option_name)
      (path))
    (comment)))

====
Example user config
====

# example user config (see 'hg help config' for more info)
[ui]
# name and email, e.g
username = Jane Doe <jdoe@example.com>

# We recommend enabling tweakdefaults to get slight improvements to
# the UI over time. Make sure to set HGPLAIN in the environment when
# writing scripts!
tweakdefaults = True

[extensions]
# uncomment the lines below to enable some popular extensions
# (see 'hg help extensions' for more info)
#
histedit =

[alias]
[experimental]

---

(source
  (comment)
  (section
    (name)
    (comment)
    (option
      (option_name)
      (string))
    (comment)
    (comment)
    (comment)
    (option
      (option_name)
      (bool)))
  (section
    (name)
    (comment)
    (comment)
    (comment)
    (option
      (option_name)))
  (section
    (name))
  (section
    (name)))
